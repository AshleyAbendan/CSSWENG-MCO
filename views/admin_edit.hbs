<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Deflorence Catering Services</title>
    <link rel="stylesheet" href="/css/orderform.css">
</head>
<body>
    <header>
        <h1>Edit Event</h1>
    </header>
    <main>
        <div class="full-screen-form">
            <form action="/admin/edit-event/{{event._id}}" method="POST">
            <h2>Client Form</h2>
                    <!-- Contact Information -->
                    <div class="form-row">
                        <input type="hidden" name="eventId" value="{{event._id}}">
                        <label for="firstName">First Name:</label>
                        <input type="text" id="firstName" name="firstName" value="{{contact.firstName}}"><br><br>
                    </div>
                    <div class="form-row">
                        <label for="lastName">Last Name:</label>
                        <input type="text" id="lastName" name="lastName" value="{{contact.lastName}}"><br><br>
                    </div>
                    <div class="form-row">
                        <label for="phone">Phone:</label>
                        <input type="text" id="phone" name="phone" value="{{contact.phone}}"><br><br>
                    </div>
                     <div class="form-row">
                        <label for="email">Email:</label>
                        <input type="text" id="email" name="email" value="{{contact.email}}"><br><br>
                    </div>
                    <div class="form-row">
                        <label for="facebook">Facebook:</label>
                        <input type="text" id="facebook" name="facebook" value="{{contact.facebook}}"><br><br>
                    </div>
            <br>
            <br>
            <h2>Order Form</h2>
                <div class="form-grid order-form">
    <div class="form-column">
        <div class="form-row">
            <input type="hidden" name="eventId" value="{{event._id}}">
            <label for="time_start">Time Start:</label>
            <input type="time" id="time_start" name="time_start" value="{{event.time_start}}"><br><br>
        </div>
        <div class="form-row">
            <label for="table_linen">Table Linen:</label>
            <input type="text" id="table_linen" name="table_linen" value="{{event.table_linen}}"><br><br>
        </div>
    </div>
    <div class="form-column">
        <div class="form-row">
            <label for="time_end">Time End:</label>
            <input type="time" id="time_end" name="time_end" value="{{event.time_end}}"><br><br>
        </div>
        <div class="form-row">
            <label for="table_napkin">Table Napkin:</label>
            <input type="text" id="table_napkin" name="table_napkin" value="{{event.table_napkin}}"><br><br>
        </div>
    </div>
    </div>
                <div class="food-columns">
                    <div class="food-column">
                        <h3>Welcome Food</h3>
                        <div class="food-options">
                            <div class="food-row">
                                <input type="text" id="welcome_food1" name="welcome_food1" value="{{event.welcome_food1}}"><br><br>
                            </div>
                            <div class="food-row">  
                                <input type="text" id="welcome_food2" name="welcome_food2" value="{{event.welcome_food2}}"><br><br>
                            </div>
                            <div class="food-row">
                                <input type="text" id="welcome_food3" name="welcome_food3" value="{{event.welcome_food3}}"><br><br>
                            </div>                
                            <div class="food-row">
                                <input type="text" id="welcome_food4" name="welcome_food4" value="{{event.welcome_food4}}"><br><br>
                            </div>
                        </div>
                    </div>
                    <div class="food-column">
                        <h3>Appetizers</h3>
                        <div class="food-options">
                             <div class="food-row">
                                <input type="text" id="appetizer1" name="appetizer1" value="{{event.appetizer1}}"><br><br>
                            </div>
                             <div class="food-row">
                                <input type="text" id="appetizer2" name="appetizer2" value="{{event.appetizer2}}"><br><br>
                            </div>
                             <div class="food-row">
                                <input type="text" id="appetizer3" name="appetizer3" value="{{event.appetizer3}}"><br><br>
                            </div>
                             <div class="food-row">
                                <input type="text" id="appetizer4" name="appetizer4" value="{{event.appetizer4}}"><br><br>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="other-info">
                <label for="main_course1">Main Course 1:</label>
                <input type="text" id="main_course1" name="main_course1" value="{{event.main_course1}}"><br><br>
                <label for="main_course2">Main Course 2:</label>
                <input type="text" id="main_course2" name="main_course2" value="{{event.main_course2}}"><br><br>
                <label for="main_course3">Main Course 3:</label>
                <input type="text" id="main_course3" name="main_course3" value="{{event.main_course3}}"><br><br>
                <label for="main_course4">Main Course 4:</label>
                <input type="text" id="main_course4" name="main_course4" value="{{event.main_course4}}"><br><br>
                <label for="main_course5">Main Course 5:</label>
                <input type="text" id="main_course5" name="main_course5" value="{{event.main_course5}}"><br><br>
                <label for="main_course6">Main Course 6:</label>
                <input type="text" id="main_course6" name="main_course6" value="{{event.main_course6}}"><br><br>
                <label for="main_course7">Main Course 7:</label>
                <input type="text" id="main_course7" name="main_course7" value="{{event.main_course7}}"><br><br>
                </div>
                <div class="food-columns">
                    <div class="food-column">
                        <h3>Desserts</h3>
                        <div class="food-options">
                            <div class="food-row">
                                <input type="text" id="dessert1" name="dessert1" value="{{event.dessert1}}"><br><br>
                            </div>
                            <div class="food-row">
                                <input type="text" id="dessert2" name="dessert2" value="{{event.dessert2}}"><br><br>
                            </div>
                            <div class="food-row">
                                <input type="text" id="dessert3" name="dessert3" value="{{event.dessert3}}"><br><br>
                            </div>
                            <div class="food-row">
                                <input type="text" id="dessert4" name="dessert4" value="{{event.dessert4}}"><br><br>
                            </div>
                        </div>
                    </div>
                    <div class="food-column">
                        <h3>Drinks</h3>
                        <div class="food-options">
                            <div class="food-row">
                                <input type="text" id="drink1" name="drink1" value="{{event.drink1}}"><br><br>
                            </div>
                            <div class="food-row">
                                <input type="text" id="drink2" name="drink2" value="{{event.drink2}}"><br><br>
                            </div>
                            <div class="food-row">
                                <input type="text" id="drink3" name="drink3" value="{{event.drink3}}"><br><br>
                            </div>
                            <div class="food-row">
                                <input type="text" id="drink4" name="drink4" value="{{event.drink4}}"><br><br>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="other-info">
                    <label for="others">Others:</label>
    <input type="text" id="others" name="others" value="{{event.others}}">
    
    <label for="downpayment">Downpayment:</label>
    <input type="number" id="downpayment" name="downpayment" value="{{event.downpayment}}">
    
    <label for="balance">Balance:</label>
    <input type="number" id="balance" name="balance" value="{{event.balance}}">
    
    <label for="venue">Venue:</label>
    <input type="text" id="venue" name="venue" value="{{event.venue}}">
    
    <label for="address">Address:</label>
    <input type="text" id="address" name="address" value="{{event.address}}">
    
    <label for="occasion">Occasion:</label>
    <input type="text" id="occasion" name="occasion" value="{{event.occasion}}">
    
    <label for="event_date">Event Date:</label>
    <input type="date" id="event_date" name="event_date" value="{{event.event_date}}">
    
    <label for="status">Status:</label>
    <select id="status" name="status">
        <option value="Pending" {{#if (eq event.status 'Pending')}}selected{{/if}}>Pending</option>
        <option value="Confirmed" {{#if (eq event.status 'Confirmed')}}selected{{/if}}>Confirmed</option>
        <option value="Completed" {{#if (eq event.status 'Completed')}}selected{{/if}}>Completed</option>
    </select>
                <br><br>
                <div class="button-container">
    <button type="submit">Save Changes</button><br><br>
    <button type="submit" name="action" value="sendConfirmationEmail" onclick="return confirmSendEmail()">Send Confirmation Email</button>
    <br><br>       
             <a href="/admin_dashboard">Go Back to Admin Dashboard</a>                      
    </div>               
                </div>
            </form>
        </div>
    </main>

    <script>
    function confirmSendEmail() {
        var status = document.getElementById('status').value; // Get the current status value
        if (status !== 'Confirmed') {
            alert('You can only send confirmation emails for events that are "Confirmed".');
            return false; // Prevent form submission
        }
        // If status is confirmed, proceed with form submission
        return true;
    }
    </script>
    
</body>
</html>

